<!DOCTYPE HTML><html lang=en class="sidebar-visible no-js light"><head><meta charset=UTF-8><title>Command Line Overview - Computing from the Command Line</title><meta content="text/html; charset=utf-8"http-equiv=Content-Type><meta name=description content="Linux command line and Scripting guide for beginner to intermediate users"><meta name=viewport content="width=device-width, initial-scale=1"><meta name=theme-color content=#ffffff><link rel=icon href=favicon.svg><link rel="shortcut icon"href=favicon.png><link rel=stylesheet href=css/variables.css><link rel=stylesheet href=css/general.css><link rel=stylesheet href=css/chrome.css><link rel=stylesheet href=FontAwesome/css/font-awesome.css><link rel=stylesheet href=fonts/fonts.css><link rel=stylesheet href=highlight.css><link rel=stylesheet href=tomorrow-night.css><link rel=stylesheet href=ayu-highlight.css><link rel=stylesheet href=style.css><body><script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script><script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script><script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script><script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script><nav id=sidebar class=sidebar aria-label="Table of contents"><div class=sidebar-scrollbox><ol class=chapter><li class="chapter-item expanded affix"><a href=preface.html>Preface</a><li class="chapter-item expanded"><a href=introduction.html><strong aria-hidden=true>1.</strong> Introduction</a><li class="chapter-item expanded"><a href=command-line-overview.html class=active><strong aria-hidden=true>2.</strong> Command Line Overview</a><li class="chapter-item expanded"><a href=managing-files-directories.html><strong aria-hidden=true>3.</strong> Managing Files and Directories</a><li class="chapter-item expanded"><a href=working-with-files-and-directories.html><strong aria-hidden=true>4.</strong> Working with Files and Directories</a><li class="chapter-item expanded"><a href=text-processing.html><strong aria-hidden=true>5.</strong> Text Processing</a><li class="chapter-item expanded"><a href=shell.html><strong aria-hidden=true>6.</strong> Shell</a><li class="chapter-item expanded"><a href=shell-scripting.html><strong aria-hidden=true>7.</strong> Shell Scripting</a><li class="chapter-item expanded"><a href=shell-customization.html><strong aria-hidden=true>8.</strong> Shell Customization</a></li><br><hr><li class="chapter-item expanded"><i id=git-repository-button class="fa fa-github"></i><a href=https://github.com/learnbyexample/cli-computing>   Source code</a><li class="chapter-item expanded"><i id=home-button class="fa fa-home"></i><a href=https://learnbyexample.github.io/>   My Blog</a><li class="chapter-item expanded"><i id=book-button class="fa fa-book"></i><a href=https://learnbyexample.github.io/books/>   My Books</a><li class="chapter-item expanded"><i id=mail-button class="fa fa-envelope"></i><a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>   learnbyexample weekly</a></ol></div><div id=sidebar-resize-handle class=sidebar-resize-handle></div></nav><div id=page-wrapper class=page-wrapper><div class=page><div id=menu-bar-hover-placeholder></div><div id=menu-bar class="menu-bar sticky bordered"><div class=left-buttons><button id=sidebar-toggle class=icon-button type=button title="Toggle Table of Contents"aria-label="Toggle Table of Contents"aria-controls=sidebar><i class="fa fa-bars"></i></button><button id=theme-toggle class=icon-button type=button title="Change theme"aria-label="Change theme"aria-haspopup=true aria-expanded=false aria-controls=theme-list><i class="fa fa-paint-brush"></i></button><ul id=theme-list class=theme-popup aria-label=Themes role=menu><li role=none><button role=menuitem class=theme id=light>Light (default)</button><li role=none><button role=menuitem class=theme id=rust>Rust</button><li role=none><button role=menuitem class=theme id=coal>Coal</button><li role=none><button role=menuitem class=theme id=navy>Navy</button><li role=none><button role=menuitem class=theme id=ayu>Ayu</button></ul><button id=search-toggle class=icon-button type=button title="Search. (Shortkey: s)"aria-label="Toggle Searchbar"aria-expanded=false aria-keyshortcuts=S aria-controls=searchbar><i class="fa fa-search"></i></button></div><h1 class=menu-title>Computing from the Command Line</h1><div class=right-buttons><a href=https://learnbyexample.github.io title=Blog aria-label=Blog> <i id=home-button class="fa fa-home"></i> </a><a href=https://github.com/learnbyexample/cli-computing title="Git repository"aria-label="Git repository"> <i id=git-repository-button class="fa fa-github"></i> </a></div></div><div id=search-wrapper class=hidden><form id=searchbar-outer class=searchbar-outer><input type=search id=searchbar name=searchbar placeholder="Search this book ..."aria-controls=searchresults-outer aria-describedby=searchresults-header></form><div id=searchresults-outer class="searchresults-outer hidden"><div id=searchresults-header class=searchresults-header></div><ul id=searchresults></ul></div></div><script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script><div id=content class=content><main><div class=sidetoc><nav class=pagetoc></nav></div><h1 id=command-line-overview><a class=header href=#command-line-overview>Command Line Overview</a></h1><p>Unix development started in the late 1960s. For any thing that is repetitive or programmable, you'll likely find a relevant command. Ask your peers or search online before you start writing your own script.<p>The sudden paradigm shift to interacting with the computer using just text commands can be overwhelming for newbies, especially for those accustomed to graphical user interface (GUI). After regular usage, things will start to look systematic and you might realize that GUI feels ill suited for repetitive tasks. With continuous use, recalling various commands becomes easier. Features like command line history, aliases, tab-completion and shortcuts will help too.<p>If you've used a scientific calculator, you'd know that it is handy with too many functionalities cramped into a tiny screen and plethora of multi-purpose buttons. Command line tools and shortcuts pack much more punch than that.<ul><li>Commands presented here are Linux specific and generally behave similarly across distros<li>GNU tools usually have added features compared to <a href=https://en.wikipedia.org/wiki/POSIX>POSIX</a> specification<li>If any command discussed here is not found in your setup, either it has to be manually installed or probably an alternate exists<li>The <strong>bash</strong> shell version 5+ is used throughout this material <ul><li>For an overview of Bash changes over time, see <a href=https://wiki.bash-hackers.org/scripting/bashchanges>this bash-hackers article</a></ul></ul><h2 id=file-system><a class=header href=#file-system>File System</a></h2><p>In Linux, directory structure starts with the <code>/</code> symbol, which is referred to as the <code>root</code> directory.<p>The <code>man hier</code> command gives description of the filesystem hierarchy. A few examples are shown below:<ul><li><code>/</code> This is the root directory. This is where the whole tree starts.<li><code>/bin</code> This directory contains executable programs which are needed in single user mode and to bring the system up or repair it.<li><code>/home</code> On machines with home directories for users, these are usually beneath this directory, directly or not. The structure of this directory depends on local administration decisions (optional).<li><code>/tmp</code> This directory contains temporary files which may be deleted with no notice, such as by a regular job or at system boot up.<li><code>/usr</code> This directory is usually mounted from a separate partition. It should hold only shareable, read-only data, so that it can be mounted by various machines running Linux.<li><code>/usr/bin</code> This is the primary directory for executable programs. Most programs executed by normal users which are not needed for booting or for repairing the system and which are not installed locally should be placed in this directory.<li><code>/usr/share</code> This directory contains subdirectories with specific application data, that can be shared among different architectures of the same OS. Often one finds stuff here that used to live in /usr/doc or /usr/lib or /usr/man.</ul><h2 id=absolute-and-relative-paths><a class=header href=#absolute-and-relative-paths>Absolute and Relative paths</a></h2><p>Quoting <a href=https://en.wikipedia.org/wiki/Path_%28computing%29#Absolute_and_relative_paths>wikipedia</a><blockquote><p>An <strong>absolute</strong> or <strong>full</strong> path points to the same location in a file system regardless of the current working directory. To do that, it must contain the root directory.</blockquote><blockquote><p>By contrast, a <strong>relative</strong> path starts from some given working directory, avoiding the need to provide the full absolute path. A filename can be considered as a relative path based at the current working directory. If the working directory is not the file's parent directory, a file not found error will result if the file is addressed by its name.</blockquote><ul><li><code>/home/learnbyexample</code> is an absolute path<li><code>../design</code> is a relative path<li>See also <a href=https://unix.stackexchange.com/q/221970/109046>unix.stackexchange: Is ~/Documents a relative or an absolute path?</a></ul><h2 id=command-line-interface><a class=header href=#command-line-interface>Command Line Interface</a></h2><p>Command Line Interface (CLI) allows you to interact with the computer using text commands.<p>For example, the <code>cd</code> command helps you to navigate to a particular directory. The <code>ls</code> command allows you to view the contents of a directory. In GUI, you'd use an explorer for navigation and directory contents are shown by default.<p>Shell and Terminal are often interchangeably used to mean the same thing — a prompt where the user types and executes commands. However, they are <a href=https://unix.stackexchange.com/q/4126/109046>quite different</a>:<ul><li><strong>Shell</strong> is a command line interpreter. Sets the syntax rules for invoking commands, provides scripting features and so on<li><strong>Terminal</strong> is a text input/output environment. Responsible for visual details like font size, color, etc</ul><p>Shell will be discussed in a later chapter. For now, open a Terminal and try these commands by typing them manually. Output for these commands will be displayed after you press the Enter key. You can spot the lines that are issuing the commands by the presence of prompt prefix <code>$ </code> at the start.<pre><code class=language-bash>$ cat /etc/shells
# /etc/shells: valid login shells
/bin/sh
/bin/dash
/bin/bash
/bin/rbash

$ echo "$SHELL"
/bin/bash
</code></pre><p>In the above example, the <code>cat</code> command is used to display the contents of a file and the <code>echo</code> command is used to display the contents of a variable. These commands have other uses as well, which will be discussed in later chapters.<blockquote><p><img src=images/info.svg alt=info> Your command prompt might be different than <code>$ </code>. For now, you can ignore the differences. Or, you could type <code>PS1='$ '</code> and press Enter to change it temporarily. The output of the above commands might be different for you as well.</blockquote><h2 id=command-help><a class=header href=#command-help>Command Help</a></h2><p>Most distros for personal use come with documentation for commands already installed. Getting used to reading manual from terminal is handy and there are various ways to get specific information:<ul><li><code>man</code> command is an interface to reference manuals <ul><li>usually displayed using the <code>less</code> command<li>press <code>h</code> key to get help about this interface<li>press <code>q</code> key to quit the man page</ul><li><code>info</code> command gives the complete documentation for GNU tools <ul><li>see <a href=https://www.gnu.org/manual/manual.html>GNU Manuals Online</a> if you'd prefer to read them from a web browser</ul><li><code>man man</code> gives information about the <code>man</code> command itself<li><code>man bash</code> will give you the manual page for the <code>bash</code> shell <ul><li>since this is very long, online <a href=https://www.gnu.org/software/bash/manual/>GNU Bash manual</a> would be easier to read</ul><li><code>man find | gvim -</code> open the manual page in your favorite text editor<li><code>man -k printf</code> will search the short descriptions in all the manual pages for the string <code>printf</code> <ul><li><code>-k</code> here is a command option<li><code>man -k</code> is equivalent for the <code>apropos</code> command</ul></ul><blockquote><p><img src=images/info.svg alt=info> <a href=https://unix.stackexchange.com/q/193815/109046>unix.stackexchange: How do I use man pages to learn how to use commands?</a> is an excellent resource</blockquote><p>For certain operations, the shell provides its own set of commands. These are also known as builtin commands.<ul><li><code>type</code> will display information about the command like path, whether it is a builtin, alias, function and so on <ul><li>use <code>help type</code> for documentation</ul><li>See also <a href=https://unix.stackexchange.com/q/11454/109046>unix.stackexchange: What is the difference between a builtin command and one that is not?</a></ul><pre><code class=language-bash>$ type cd
cd is a shell builtin
$ type sed
sed is /bin/sed

# multiple commands can be given as arguments
$ type pwd awk
pwd is a shell builtin
awk is /usr/bin/awk

$ type ls
ls is aliased to `ls --color=auto'
$ type -a ls
ls is aliased to `ls --color=auto'
ls is /bin/ls
</code></pre><ul><li><code>help</code> command provides documentation for builtin commands <ul><li><code>help help</code> help page on <code>help</code> command<li><code>-m</code> option will display usage in pseudo-manpage format<li><code>-d</code> option gives short description for each topic, similar to <code>whatis</code> command<li><code>help</code> command by itself without any argument displays all shell commands that are defined internally</ul></ul><pre><code class=language-bash>$ help pwd
pwd: pwd [-LP]
    Print the name of the current working directory.
    
    Options:
      -L	print the value of $PWD if it names the current working directory
      -P	print the physical directory, without any symbolic links
    
    By default, `pwd' behaves as if `-L' were specified.
    
    Exit Status:
    Returns 0 unless an invalid option is given or the current directory
    cannot be read.

$ help -d compgen
compgen - Display possible completions depending on the options.
</code></pre><p>Here are some more ways to get information about commands:<ul><li><code>whatis</code> displays one-line manual page descriptions<li><code>whereis</code> locates the binary, source, and manual page files for a command<li><a href=https://explainshell.com/>explainshell</a> is a web app that shows the help text that matches each argument of command line <ul><li>example: <a href=https://explainshell.com/explain?cmd=tar%20xzvf%20archive.tar.gz>tar xzvf archive.tar.gz</a></ul><li><a href=https://github.com/learnbyexample/command_help>ch</a> is a <code>bash</code> script I wrote to extract information from <code>man</code> and <code>help</code> pages</ul><pre><code class=language-bash>$ whatis grep
grep (1)             - print lines that match patterns

$ whereis awk
awk: /usr/bin/awk /usr/share/awk /usr/share/man/man1/awk.1.gz

$ ch sort -k
       sort - sort lines of text files

       -k, --key=KEYDEF
              sort via a key; KEYDEF gives location and type
</code></pre><h2 id=do-one-thing-and-do-it-well><a class=header href=#do-one-thing-and-do-it-well>Do one thing and do it well</a></h2><p>The <a href=https://en.wikipedia.org/wiki/Unix_philosophy>Unix Philosophy</a> applies to Linux as well:<blockquote><ul><li><p>Write programs that do one thing and do it well.<li><p>Write programs to work together.<li><p>Write programs to handle text streams, because that is a universal interface.</ul></blockquote><p>Examples given below are for demonstration purposes only, they'll be discussed in more detail in later chapters.<h3 id=command-structure><a class=header href=#command-structure>Command Structure</a></h3><p>Command without any options or arguments:<ul><li><code>clear</code> clear the terminal screen<li><code>top</code> display Linux processes</ul><p>Command with options:<ul><li><code>ls -l</code> list directory contents, use a long listing format<li><code>ls -la</code> list directory contents including hidden files in long listing format<li><code>df -h</code> report file system disk space usage, print sizes in human readable format</ul><p>Command with arguments:<ul><li><code>mkdir project</code> create a directory named <code>project</code> in the current working directory<li><code>man sort</code> manual page for the <code>sort</code> command<li><code>wget https://s.ntnu.no/bashguide.pdf</code> download a file from internet <ul><li>the link passed to <code>wget</code> is real, visit <a href=https://mywiki.wooledge.org/BashGuide>https://mywiki.wooledge.org/BashGuide</a> for details</ul></ul><p>Command with both options and arguments:<ul><li><code>rm -r project</code> remove (delete) the <code>project</code> directory<li><code>paste -sd, ip.txt</code> serialize all lines from <code>ip.txt</code> file as a single line using <code>,</code> as the delimiter</ul><p>Single quotes vs Double quotes:<ul><li><strong>Single quotes</strong> preserves the literal value of each character within the quotes<li><strong>Double quotes</strong> preserves the literal value of all characters within the quotes, with the exception of <code>$</code>, <code>`</code>, <code>\</code>, and, when history expansion is enabled, <code>!</code><li>See also <a href=https://stackoverflow.com/q/6697753/4082052>stackoverflow: Difference between single and double quotes</a></ul><pre><code class=language-bash>$ echo '$SHELL'
$SHELL

$ echo "$SHELL"
/bin/bash
</code></pre><h3 id=command-network><a class=header href=#command-network>Command Network</a></h3><p>Redirecting output of a command:<ul><li>to another command <ul><li><code>du -sh * | sort -h</code> calculate size of files/folders, display size in human-readable format which is then sorted</ul><li>to a file (instead of displaying on the terminal) <ul><li><code>grep 'pass' *.log > pass_list.txt</code> writes to a file (if the file already exists, it gets overwritten)<li><code>grep 'error' *.log >> errors.txt</code> appends to the file (creates a new file if necessary)</ul><li>to a variable <ul><li><code>p=$(pwd)</code> saves the output of the given command in variable <code>p</code> (<strong>note</strong> that there should NOT be any spaces around <code>=</code>)</ul></ul><p>Redirecting input:<ul><li><code>wc -l < file.txt</code> useful to get just the number of lines without displaying the filename <ul><li>space between <code><</code> and the filename is optional</ul><li><code>tr 'a-z' 'A-Z' < ip.txt</code> some commands like <code>tr</code> only work on <code>stdin</code> data</ul><p>Redirecting error:<ul><li><code>xyz 2> cmderror.log</code> assuming a non-existent command <code>xyz</code>, this would give an error which gets redirected to the specified file</ul><p>Redirecting output of a command as input file (process substitution):<ul><li><code>comm -23 <(sort file1.txt) <(sort file2.txt)</code> helps to avoid creating temporary files</ul><p>Combining output of several commands:<ul><li><code>( head -n5 ~/.vimrc ; tail -n5 ~/.vimrc ) > vimrc_snippet.txt</code> multiple commands (separated by <code>;</code>) can be grouped inside a list<li><code>( sed -u '1q' ; sort ) < scores.csv</code> retain the header at the top and sort only the rest of the input lines</ul><p>Command substitution:<ul><li><code>sed -i "s|^|$(basename $PWD)/|" dir_list.txt</code> add current directory path and a forward-slash character at the start of every input line (note the use of double quotes)</ul><p>Predefined filehandles:<ul><li><code><</code> or <code>0<</code> is the <code>stdin</code> filehandle<li><code>></code> or <code>1></code> is the <code>stdout</code> filehandle<li><code>2></code> is the <code>stderr</code> filehandle<li>See also <a href=https://stackoverflow.com/q/3385201/4082052>stackoverflow: stdin, stdout and stderr</a></ul><p>More details will be discussed in later chapters.</main><nav class=nav-wrapper aria-label="Page navigation"><a rel=prev href=introduction.html class="mobile-nav-chapters previous"title="Previous chapter"aria-label="Previous chapter"aria-keyshortcuts=Left> <i class="fa fa-angle-left"></i> </a><a rel=next href=managing-files-directories.html class="mobile-nav-chapters next"title="Next chapter"aria-label="Next chapter"aria-keyshortcuts=Right> <i class="fa fa-angle-right"></i> </a><div style="clear: both"></div></nav></div></div><nav class=nav-wide-wrapper aria-label="Page navigation"><a rel=prev href=introduction.html class="nav-chapters previous"title="Previous chapter"aria-label="Previous chapter"aria-keyshortcuts=Left> <i class="fa fa-angle-left"></i> </a><a rel=next href=managing-files-directories.html class="nav-chapters next"title="Next chapter"aria-label="Next chapter"aria-keyshortcuts=Right> <i class="fa fa-angle-right"></i> </a></nav></div><script>
            window.playground_copyable = true;
        </script><script src=elasticlunr.min.js charset=utf-8></script><script src=mark.min.js charset=utf-8></script><script src=searcher.js charset=utf-8></script><script src=clipboard.min.js charset=utf-8></script><script src=highlight.js charset=utf-8></script><script src=book.js charset=utf-8></script><script src=sidebar.js></script>