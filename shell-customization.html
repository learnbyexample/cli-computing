<!DOCTYPE HTML><html lang=en class="sidebar-visible no-js light"><head><meta charset=UTF-8><title>Shell Customization - Computing from the Command Line</title><meta content="text/html; charset=utf-8"http-equiv=Content-Type><meta name=description content="Linux command line and Scripting guide for beginner to intermediate users"><meta name=viewport content="width=device-width, initial-scale=1"><meta name=theme-color content=#ffffff><link rel=icon href=favicon.svg><link rel="shortcut icon"href=favicon.png><link rel=stylesheet href=css/variables.css><link rel=stylesheet href=css/general.css><link rel=stylesheet href=css/chrome.css><link rel=stylesheet href=FontAwesome/css/font-awesome.css><link rel=stylesheet href=fonts/fonts.css><link rel=stylesheet href=highlight.css><link rel=stylesheet href=tomorrow-night.css><link rel=stylesheet href=ayu-highlight.css><link rel=stylesheet href=style.css><body><script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script><script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script><script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script><script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script><nav id=sidebar class=sidebar aria-label="Table of contents"><div class=sidebar-scrollbox><ol class=chapter><li class="chapter-item expanded affix"><a href=preface.html>Preface</a><li class="chapter-item expanded"><a href=introduction.html><strong aria-hidden=true>1.</strong> Introduction</a><li class="chapter-item expanded"><a href=command-line-overview.html><strong aria-hidden=true>2.</strong> Command Line Overview</a><li class="chapter-item expanded"><a href=managing-files-directories.html><strong aria-hidden=true>3.</strong> Managing Files and Directories</a><li class="chapter-item expanded"><a href=shell-features.html><strong aria-hidden=true>4.</strong> Shell features</a><li class="chapter-item expanded"><a href=viewing-part-or-whole-file-contents.html><strong aria-hidden=true>5.</strong> Viewing part or whole File contents</a><li class="chapter-item expanded"><a href=searching-files-and-filenames.html><strong aria-hidden=true>6.</strong> Searching Files and Filenames</a><li class="chapter-item expanded"><a href=file-properties.html><strong aria-hidden=true>7.</strong> File Properties</a><li class="chapter-item expanded"><a href=managing-processes.html><strong aria-hidden=true>8.</strong> Managing Processes</a><li class="chapter-item expanded"><a href=multipurpose-text-processing-tools.html><strong aria-hidden=true>9.</strong> Multipurpose text processing tools</a><li class="chapter-item expanded"><a href=sorting-stuff.html><strong aria-hidden=true>10.</strong> Sorting stuff</a><li class="chapter-item expanded"><a href=comparing-files.html><strong aria-hidden=true>11.</strong> Comparing Files</a><li class="chapter-item expanded"><a href=assorted-text-processing-tools.html><strong aria-hidden=true>12.</strong> Assorted text processing tools</a><li class="chapter-item expanded"><a href=shell-scripting.html><strong aria-hidden=true>13.</strong> Shell Scripting</a><li class="chapter-item expanded"><a href=shell-customization.html class=active><strong aria-hidden=true>14.</strong> Shell Customization</a></li><br><hr><li class="chapter-item expanded"><i id=git-repository-button class="fa fa-github"></i><a href=https://github.com/learnbyexample/cli-computing>   Source code</a><li class="chapter-item expanded"><i id=home-button class="fa fa-home"></i><a href=https://learnbyexample.github.io/>   My Blog</a><li class="chapter-item expanded"><i id=book-button class="fa fa-book"></i><a href=https://learnbyexample.github.io/books/>   My Books</a><li class="chapter-item expanded"><i id=mail-button class="fa fa-envelope"></i><a href=https://learnbyexample.gumroad.com/l/learnbyexample-weekly>   learnbyexample weekly</a></ol></div><div id=sidebar-resize-handle class=sidebar-resize-handle></div></nav><div id=page-wrapper class=page-wrapper><div class=page><div id=menu-bar-hover-placeholder></div><div id=menu-bar class="menu-bar sticky bordered"><div class=left-buttons><button id=sidebar-toggle class=icon-button type=button title="Toggle Table of Contents"aria-label="Toggle Table of Contents"aria-controls=sidebar><i class="fa fa-bars"></i></button><button id=theme-toggle class=icon-button type=button title="Change theme"aria-label="Change theme"aria-haspopup=true aria-expanded=false aria-controls=theme-list><i class="fa fa-paint-brush"></i></button><ul id=theme-list class=theme-popup aria-label=Themes role=menu><li role=none><button role=menuitem class=theme id=light>Light (default)</button><li role=none><button role=menuitem class=theme id=rust>Rust</button><li role=none><button role=menuitem class=theme id=coal>Coal</button><li role=none><button role=menuitem class=theme id=navy>Navy</button><li role=none><button role=menuitem class=theme id=ayu>Ayu</button></ul><button id=search-toggle class=icon-button type=button title="Search. (Shortkey: s)"aria-label="Toggle Searchbar"aria-expanded=false aria-keyshortcuts=S aria-controls=searchbar><i class="fa fa-search"></i></button></div><h1 class=menu-title>Computing from the Command Line</h1><div class=right-buttons><a href=https://learnbyexample.github.io title=Blog aria-label=Blog> <i id=home-button class="fa fa-home"></i> </a><a href=https://github.com/learnbyexample/cli-computing title="Git repository"aria-label="Git repository"> <i id=git-repository-button class="fa fa-github"></i> </a></div></div><div id=search-wrapper class=hidden><form id=searchbar-outer class=searchbar-outer><input type=search id=searchbar name=searchbar placeholder="Search this book ..."aria-controls=searchresults-outer aria-describedby=searchresults-header></form><div id=searchresults-outer class="searchresults-outer hidden"><div id=searchresults-header class=searchresults-header></div><ul id=searchresults></ul></div></div><script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script><div id=content class=content><main><div class=sidetoc><nav class=pagetoc></nav></div><h1 id=shell-customization><a class=header href=#shell-customization>Shell Customization</a></h1><p>This chapter will discuss <code>bash</code> features that you can use to customize your command line environment.<h2 id=environment-variables><a class=header href=#environment-variables>Environment Variables</a></h2><p>From <a href=https://en.wikipedia.org/wiki/Environment_variable>wikipedia: Environment variable</a>:<blockquote><p>An environment variable is a dynamic-named value that can affect the way running processes will behave on a computer. They are part of the environment in which a process runs. For example, a running process can query the value of the TEMP environment variable to discover a suitable location to store temporary files, or the HOME or USERPROFILE variable to find the directory structure owned by the user running the process.</blockquote><p>See <a href=https://www.gnu.org/software/bash/manual/bash.html#Shell-Variables>bash manual: Shell Variables</a> for complete list of <code>bash</code> variables. Some of them are shown below and some (for example <code>HISTCONTROL</code>) will be discussed later in this chapter.<ul><li><code>HOME</code> The current user's home directory; the default for the <code>cd</code> builtin command. The value of this variable is also used by tilde expansion<li><code>PS1</code> The primary prompt string. The default value is <code>\s-\v\$ </code><li><code>PATH</code> A colon-separated list of directories in which the shell looks for commands. A zero-length (null) directory name in the value of <code>PATH</code> indicates the current directory. A null directory name may appear as two adjacent colons, or as an initial or trailing colon<li><code>PWD</code> The current working directory as set by the <code>cd</code> builtin<li><code>OLDPWD</code> The previous working directory as set by the <code>cd</code> builtin<li><code>SHELL</code> This environment variable expands to the full pathname to the shell</ul><blockquote><p><img src=images/info.svg alt=info> You can use the <code>printenv</code> builtin command to display the name and value of environment variables.</blockquote><blockquote><p><img src=images/info.svg alt=info> <img src=images/warning.svg alt=warning> It is recommended to use lowercase for user defined variable names to avoid potential conflict with environment variables.</blockquote><h2 id=config-files><a class=header href=#config-files>Config files</a></h2><p>You can add customizations to special config files so that those settings are automatically loaded when you start an interactive shell session.<h3 id=bashrc><a class=header href=#bashrc>.bashrc</a></h3><p>From <a href=https://www.gnu.org/software/bash/manual/bash.html#Bash-Startup-Files>bash manual: Startup Files</a>:<blockquote><p>When an interactive shell that is not a login shell is started, Bash reads and executes commands from <code>~/.bashrc</code>, if that file exists.</blockquote><p>You'll likely have a <code>~/.bashrc</code> file provided by the Linux distro you've installed, with useful settings like enabling <code>bash</code> programmable completion features. I leave the distro provided settings alone, unless they are related to aliases and shell options that I want to customize.<p>Some of the <code>shopt</code> customizations I use are shown below. See <a href=https://www.gnu.org/software/bash/manual/bash.html#The-Shopt-Builtin>bash manual: Shopt Builtin</a> for more details.<pre><code class=language-bash># append to history file instead of overwriting
shopt -s histappend

# extended wildcard functionality
shopt -s extglob

# helps to recursively match files within a specified path
shopt -s globstar
</code></pre><p>I use a simple prompt <code>PS1='$ '</code>. See <a href=https://www.gnu.org/software/bash/manual/bash.html#Controlling-the-Prompt>bash manual: Controlling the Prompt</a> for customization options. You can use <a href=https://bashrcgenerator.com/>bashrcgenerator</a> to easily generate fancy prompts. <a href=https://starship.rs/>starship</a> is a minimal, blazing-fast, and infinitely customizable prompt for any shell.<p>Some history customizations are shown below. See <a href=https://www.gnu.org/software/bash/manual/bash.html#Bash-History-Facilities>bash manual: History Facilities</a> for more details. See also <a href=https://unix.stackexchange.com/q/18212/109046>unix.stackexchange: common history across sessions</a>.<pre><code class=language-bash># ignorespace prevents lines starting with space from being saved in history
# erasedups deletes previous history entries matching the current one
HISTCONTROL=ignorespace:erasedups

# maximum number of history lines in current shell session
# older entries will be overwritten if the size is exceeded
# use negative number for unlimited size
HISTSIZE=2000

# maximum number of lines in the history file
HISTFILESIZE=2000
</code></pre><p>For aliases and functions, I use a separate file <code>~/.bash_aliases</code> and add a <code>source</code> command in the <code>~/.bashrc</code> file. You can use <code>type alias_name</code> to check if a command already exists with that name to avoid potential conflicts. You can use a <code>\</code> prefix (for example <code>\ls</code>) if you want to avoid an alias and use the original command. Some of my favorite aliases and functions are shown below. See my <a href=https://github.com/learnbyexample/scripting_course/blob/master/.bash_aliases>reference .bash_aliases file</a> for more.<pre><code class=language-bash>alias c='clear'
alias p='pwd'
alias e='exit'

alias c1='cd ../'
alias c2='cd ../../'
alias c3='cd ../../../'

alias ls='ls --color=auto'
alias l='ls -ltrh'
alias la='l -A'

alias grep='grep --color=auto'

# save last command in history to a reference file
alias sl='fc -ln -1 | sed "s/^\s*//" >> ~/.saved_cmds.txt'
alias slg='< ~/.saved_cmds.txt grep'

# case insensitive file search
# fs foo is same as find -iname '*foo*'
fs() { find -iname '*'"$1"'*' ; }
</code></pre><blockquote><p><img src=images/info.svg alt=info> You can use the <code>source</code> command to apply changes to <code>.bashrc</code> or <code>.bash_aliases</code> files to your current shell session.</blockquote><h3 id=inputrc><a class=header href=#inputrc>.inputrc</a></h3><p>You can add custom key bindings to the <code>~/.inputrc</code> file. See <a href=https://www.gnu.org/software/bash/manual/bash.html#Readline-Init-File>bash manual: Readline Init File</a> for more details.<p>A few examples are shown below:<pre><code class=language-bash># use up/down arrow to match history based on starting text of the command
"\e[A": history-search-backward
"\e[B": history-search-forward

# ignore case for filename matching and completion
set completion-ignore-case on

# single Tab press will complete if there's only one match
# multiple completions will be displayed otherwise
set show-all-if-ambiguous on
</code></pre><blockquote><p><img src=images/info.svg alt=info> You can use <code>bind -f ~/.inputrc</code> or press <code>Ctrl+x Ctrl+r</code> to apply changes to the <code>.inputrc</code> file to your current shell session.</blockquote><h3 id=further-reading><a class=header href=#further-reading>Further Reading</a></h3><ul><li><a href=https://mrzool.cc/writing/sensible-bash/>Sensible bash customizations</a><li><a href=https://blog.sanctum.geek.nz/shell-config-subfiles/>Shell config subfiles</a><li><a href=https://unix.stackexchange.com/q/30925/109046>unix.stackexchange: when to use alias, functions and scripts</a><li><a href=https://unix.stackexchange.com/q/3467/109046>unix.stackexchange: what does rc in bashrc stand for</a></ul><h2 id=emacs-style-readline-shortcuts><a class=header href=#emacs-style-readline-shortcuts>Emacs style readline shortcuts</a></h2><p>Quoting from <a href=https://www.gnu.org/software/bash/manual/bash.html#Readline-Interaction>bash manual: Readline Interaction</a>:<blockquote><p>Often during an interactive session you type in a long line of text, only to notice that the first word on the line is misspelled. The Readline library gives you a set of commands for manipulating the text as you type it in, allowing you to just fix your typo, and not forcing you to retype the majority of the line. Using these editing commands, you move the cursor to the place that needs correction, and delete or insert the text of the corrections.</blockquote><p>This section will discuss some of the often used key bindings. First, related to processes:<ul><li><code>Ctrl+c</code> sends SIGINT signal, requesting the current running process to terminate <ul><li>see also <a href=https://stackoverflow.com/q/6108953/4082052>stackoverflow: how Ctrl+c works</a></ul><li><code>Ctrl+c</code> can also be used to abort the currently typed command and give fresh command prompt<li><code>Ctrl+z</code> suspends the current running process</ul><p>Completion and searching history:<ul><li><code>Tab</code> the tab key completes the command (even aliases) or filename if it is unique, double Tab gives list of possible matches if it is not unique <ul><li><code>set show-all-if-ambiguous on</code> combines single and double Tab presses behavior into single Tab press</ul><li><code>Ctrl+r</code> Search command history. After pressing this key sequence, type characters you wish to match from history, then press <code>Esc</code> key to return to command prompt or press <code>Enter</code> to execute the command <ul><li>press <code>Ctrl+r</code> to move backwards through matching entries and <code>Ctrl+s</code> to move forwards<li>if <code>Ctrl+s</code> is not working as expected, see <a href=https://unix.stackexchange.com/q/332791/109046>unix.stackexchange: disable ctrl-s</a></ul></ul><p>The documentation uses <strong>Meta</strong> (<code>M-</code> prefix) and notes that this key is labeled as <code>Alt</code> on many keyboards. The documentation also mentions that you can use the <code>Esc</code> key for such combinations as well. Moving the cursor:<ul><li><code>Alt+b</code> move the cursor backward by one word<li><code>Alt+f</code> move the cursor forward by one word<li><code>Ctrl+a</code> or <code>Home</code> move cursor to the beginning of the command line<li><code>Ctrl+e</code> or <code>End</code> move cursor to the end of the command line</ul><p>Deleting characters:<ul><li><code>Alt+Backspace</code> delete backwards upto word boundary<li><code>Ctrl+u</code> delete from the character before the cursor till the start of the line<li><code>Ctrl+k</code> delete from the cursor location to the end of the command line</ul><p>Clear screen:<ul><li><code>Ctrl+l</code> preserve whatever is typed and clear the terminal screen <ul><li>note that this doesn't try to remove the scrollback buffer altogether, use <code>clear</code> command for that purpose</ul></ul><p>Swap:<ul><li><code>Ctrl+t</code> swap the previous two characters <ul><li>for example, if you typed <code>sp</code> instead of <code>ps</code>, press <code>Ctrl+t</code> when the cursor is to the right of <code>sp</code></ul><li><code>Alt+t</code> swap the previous two words</ul><p>Insert:<ul><li><code>Alt+.</code> insert the last argument from the previous command, multiple presses will traverse through second last command and so on <ul><li>for example, if <code>cat temp.txt</code> was the last command used, pressing <code>Alt+.</code> will insert <code>temp.txt</code><li>you can also use <code>!$</code> as a substitute for the last argument from the previous command</ul></ul><p>Mouse based copy and paste:<ul><li><code>Mouse scroll button click</code> highlight text you want to copy and then press scroll button in the destination location to paste the text <ul><li>to disable this feature, you can use the <code>xinput</code> command and get the number corresponding to your mouse (for example, assume it is <code>11</code>)<li><code>xinput set-button-map 11 1 0 3</code> disable<li><code>xinput set-button-map 11 1 2 3</code> enable</ul></ul><p><strong>Further Reading</strong><ul><li><a href=https://www.gnu.org/software/bash/manual/bash.html#Bindable-Readline-Commands>bash manual: Bindable Readline Commands</a><li><a href=https://wiki.archlinux.org/index.php/readline>wiki.archlinux: Simpler introduction to Readline</a><li><a href=https://cupfullofcode.com/blog/2013/07/03/efficient-command-line-navigation/index.html>Efficient command line navigation</a></ul></main><nav class=nav-wrapper aria-label="Page navigation"><a rel=prev href=shell-scripting.html class="mobile-nav-chapters previous"title="Previous chapter"aria-label="Previous chapter"aria-keyshortcuts=Left> <i class="fa fa-angle-left"></i> </a><div style="clear: both"></div></nav></div></div><nav class=nav-wide-wrapper aria-label="Page navigation"><a rel=prev href=shell-scripting.html class="nav-chapters previous"title="Previous chapter"aria-label="Previous chapter"aria-keyshortcuts=Left> <i class="fa fa-angle-left"></i> </a></nav></div><script>
            window.playground_copyable = true;
        </script><script src=elasticlunr.min.js charset=utf-8></script><script src=mark.min.js charset=utf-8></script><script src=searcher.js charset=utf-8></script><script src=clipboard.min.js charset=utf-8></script><script src=highlight.js charset=utf-8></script><script src=book.js charset=utf-8></script><script src=sidebar.js></script>